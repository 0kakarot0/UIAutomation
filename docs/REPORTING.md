## Test Reporting Guide

This project produces **two main types of reports**:

- **Playwright HTML report** – fast, built-in visual report with traces/screenshots.
- **Allure report** – richer, history-aware report with attachments and test metadata.

---

## 1. Playwright HTML report

Playwright is configured (in `playwright.config.ts`) with the HTML reporter:

- Output folder: `playwright-report/`

### Generate & view

Most Playwright commands will regenerate the HTML report automatically. After any run:

```bash
npx playwright show-report
```

This opens the latest report from `playwright-report/` in your browser.

---

## 2. Allure report

Allure integration is done via:

- Reporter config in `playwright.config.ts`:
  - `["allure-playwright", { resultsDir: "allure-results", detail: true, suiteTitle: true }]`
- NPM scripts in `package.json`:
  - `report:clean` – remove old `allure-results` / `allure-report`
  - `report:gen` – generate Allure report from `allure-results`
  - `report:open` – open the generated report
  - `test:allure` – run tests, then generate & open Allure

### Recommended local flow

**Quick one-liner (tests + report):**

```bash
npm run test:allure
```

Equivalent to:

```bash
# Optional: clean old reports
npm run report:clean

# Run full Playwright suite (produces allure-results/)
npm test

# Generate Allure report from allure-results/
npm run report:gen

# Open the Allure report in a browser
npm run report:open
```

The report will be rendered from `allure-report/` and usually opens on `http://localhost:xxxx`.

---

## 3. Folders & what is safe to delete

- `allure-results/`
  - Raw JSON + attachments (screenshots, videos, traces) for each test run.
  - Safe to delete – can always be regenerated by running tests again.
- `allure-report/`
  - Generated static site from `allure-results/`.
  - Safe to delete – can be regenerated via `npm run report:gen`.
- `playwright-report/`
  - Playwright HTML report, also safe to delete/regenerate.

Git is configured **not to commit** these folders; they are considered build artifacts.

---

## 4. CI / pipeline hints (optional)

If you wire this into CI (e.g. GitHub Actions, Jenkins):

- Run tests and keep `allure-results/` as a job artifact.
- Generate the Allure report either:
  - In the same job (using `npm run report:gen`), then publish `allure-report/` as static HTML.
  - Or in a dedicated “report” job that consumes `allure-results/`.

Example minimal sequence:

```bash
npm ci
npx playwright install --with-deps
npm test            # produces allure-results/
npm run report:gen  # produces allure-report/
```

Then publish `allure-report/` as your CI job’s HTML report (depends on CI provider).

